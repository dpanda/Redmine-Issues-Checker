<html>
<head>
<title>Redmine Issues Checker - Options</title>
<style>
body {
  font-family:helvetica, arial, sans-serif;
  font-size:80%;
  margin:10px;
}

#header {
  padding-bottom:1.5em;
  padding-top:1.5em;
}

#header h1 {
  font-size: 156%;
  display:inline;
  padding-bottom:43px;
  padding-left:75px;
  padding-top:40px;
  background:url(img/redmine_logo_128.png) no-repeat;
  background-size:67px;
  background-position:1px 18px;
}

.section-header {
  background:#ebeff9;
  border-top:1px solid #b5c7de;
  font-size:99%;
  padding:3px 0 2px 5px;
  font-weight:bold;
  margin-bottom:1em;
  margin-top:4em;
}

.section-header.first {
  margin-top:1em;
}

#custom-domain {
  width:300px;
  margin-left:2px;
}

#footer {
  margin-top:4em;
}

#redmine-url{
	width: 250px;
}

#social-buttons {
	position: absolute;
	right: 4px;
	top: 8px;
}
</style>
</head>
<body>

<div id="header"><h1>Redmine Issues Checker - Options</h1></div>

<div class="section-header first">Redmine url</div>
<p>Enter your redmine base url:</p>
<p><input type="text" id="redmine-url" oninput="markDirty()"> <em>(eg http://redmine.example.com)</em></p>

<div class="section-header first">Authentication</div>
<p><em>This is optional and will only work if REST API is enabled by your Redmine administrator (Administration -> Settings -> Authentication).</em></p>
<p>Login:</p>
<p><input type="text" id="user-login" oninput="markDirty()"></p>
<p>Password:</p>
<p><input type="password" id="user-password" oninput="markDirty()"></p>

<div class="section-header first">Update delay</div>
<p>Update delay (sec): <input type="text" id="update-delay-min" oninput="markDirty()">, max: <input type="text" id="update-delay-max" oninput="markDirty()"></p>

<div class="section-header first">Update request URL</div>
<p>Enter your redmine update url (live empty for receiving your personal tasks):</p>
<p><input type="text" id="redmine-update-url" oninput="markDirty()"> <em>(eg "issues.json?query_id=6")</em></p>

<div class="section-header first">Issues</div>
<p>Show number of issues:</p>
<ul>
	<li><input type="radio" name="show-issues" id="issues-active" onchange="markDirty()" /> active</li>
	<li><input type="radio" name="show-issues" id="issues-new" onchange="markDirty()" /> new</li>
	<li><input type="radio" name="show-issues" id="issues-active-new" onchange="markDirty()" /> new and active <em>(eg "2:10")</em></li>
</ul>

<div class="section-header first">Toolbar icon</div>
<p>When pressed go to:</p>
<ul>
	<li><input type="radio" name="icon-press-url" id="icon-press-url-my-page" value="/my/page" onChange="markDirty()" checked='checked'/> my page <em>(/my/page)</em></li>
	<li><input type="radio" name="icon-press-url" id="icon-press-url-home" value="/" onChange="markDirty()" /> home <em>(/)</em></li>
	<li><input type="radio" name="icon-press-url" id="icon-press-url-custom" onChange="markDirty()" /> custom: <input type="text" onChange="markDirty()" id="icon-press-url-custom-text"/> <em>(eg /projects/myapp)</em></li>
</ul>
<p><input type="checkbox" name="icon-press-dont-redirect" id="icon-press-dont-redirect" onchange="markDirty()"/> If redmine tab is already open, select it, but don't redirect it</p>

<div class="section-header first">Notifications</div>
<p><input type="checkbox" name="notifications-show" id="notifications-show" onchange="markDirty()" /> Display notifications when new issues arrive</p>
<p>Display notifications for <input type="number" min="2" max="60" step="1" value="5" style="width:50px" name="notifications-timeout" id="notifications-timeout" onchange="markDirty()" /> seconds</p>
<p>Notifications to use:</p>
<ul>
	<li><input type='radio' name='notifications-type' value='standard' id="notifications-type-standard" onchange="toggleNotificationFields()" checked='checked'/> standard <em>(default Chrome notifications)</em></li>
	<li><input type='radio' name='notifications-type' value='extended' id="notifications-type-extended" onchange="toggleNotificationFields()"/> extended <em>(styled notifications with clickable links and more options)</em></li>
</ul>
<div id="notification-fields-div">
	<p>Show in notification:</p>
	<ul>
		<li><input type='checkbox' id='notification-field-time' checked='checked' onchange="markDirty()"/> time of issue creation</li>
		<li><input type='checkbox' id='notification-field-author' checked='checked' onchange="markDirty()"/> author</li>
		<li><input type='checkbox' id='notification-field-project' checked='checked' onchange="markDirty()"/> project</li>
		<li><input type='checkbox' id='notification-field-priority' onchange="markDirty()"/> priority <em>(eg "Normal", "Urgent")</em></li>
		<li><input type='checkbox' id='notification-field-tracker' onchange="markDirty()"/> tracker <em>(eg "Bug", "Feature")</em></li>
	</ul>
	<p>Notification style:</p>
	<ul>
		<li>Background color: <input type='text' id="notification-colors-bg" onchange="markDirty()"/> <em>(eg "gray", "#aacf00", "rgb(200, 100, 50)")</em></li>
		<li>Text color: <input type='text' id="notification-colors-text" onchange="markDirty()"/></li>
		<li>Link color: <input type='text' id="notification-colors-link" onchange="markDirty()"/></li>
	</ul>
</div>
<p><button onclick="testNotification()">Test notification</button></p>

<div id="footer">
	<button id="save-button" style="font-weight:bold" onclick="save()">Save</button>
	<button onclick="init()">Cancel</button>
</div>

<div id="social-buttons">
	<g:plusone size="medium" href="https://chrome.google.com/webstore/detail/cmfcfjopbfmekonldgghddhkphapbpek"></g:plusone>
	<br />
	<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://chrome.google.com/webstore/detail/cmfcfjopbfmekonldgghddhkphapbpek" data-text="Redmine Issues Checker" data-count="horizontal">Tweet</a>
	<br />
	<iframe src="http://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fchrome.google.com%2Fwebstore%2Fdetail%2Fcmfcfjopbfmekonldgghddhkphapbpek&amp;send=false&amp;layout=button_count&amp;width=50&amp;show_faces=false&amp;action=recommend&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90px; height:21px;" allowTransparency="true"></iframe>
	<br />
</div>

<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<script type="text/javascript" src="js/options.js"></script>
</body>
</html>
